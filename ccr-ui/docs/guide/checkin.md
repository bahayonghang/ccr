# 签到管理

中转站签到功能，支持多账号自动签到、余额查询和历史记录追踪。

## 功能概览

### 统计卡片
页面顶部显示三个统计卡片：
- **当前余额** 🟢 - 所有账号的总可用余额
- **总额度** 🔵 - 所有账号累计获得的总额度
- **历史消耗** 🟠 - 所有账号累计使用的总消耗

### 账号管理
| 功能 | 说明 |
|------|------|
| 搜索过滤 | 按账号名称或提供商名称搜索 |
| 提供商过滤 | 下拉选择特定提供商 |
| 一键签到 | 对所有启用账号执行签到 |
| 刷新余额 | 批量刷新所有账号余额 |

### 账号表格列
- 账号名（含提供商标签）
- 余额（当前可用）
- 总额度（累计获得）
- 历史消耗（累计使用）
- 最后签到时间
- 操作（签到、刷新、编辑、删除）

## 快速开始

### 1. 添加提供商
在「提供商」Tab 中：
- 点击内置提供商卡片快速添加
- 或手动创建自定义提供商

### 2. 添加账号
在「账号管理」Tab 中：
1. 点击「添加账号」
2. 选择提供商
3. 输入账号名称
4. 粘贴 Cookies JSON（格式：`{"session": "xxx", "token": "yyy"}`）
5. 可选：填写 API User（New-Api-User 请求头值）

### 3. 执行签到
- **批量签到**：点击右上角「一键签到」
- **单个签到**：点击账号行的「签到」按钮

### 4. 查看余额
- 首次需点击「刷新余额」获取数据
- 余额数据来自提供商 API `/api/user/self`

## API 端点

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | `/api/checkin/accounts` | 获取账号列表 |
| POST | `/api/checkin/accounts` | 创建账号 |
| POST | `/api/checkin/execute` | 执行签到 |
| POST | `/api/checkin/accounts/:id/balance` | 刷新余额 |
| GET | `/api/checkin/records` | 获取签到记录 |

## 数据存储

签到数据存储在 `~/.ccr/checkin/` 目录：
- `providers.json` - 提供商配置
- `accounts.json` - 账号信息（Cookies 已加密）
- `balance/` - 余额快照记录
- `records/` - 签到记录
