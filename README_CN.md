# CCR (Claude Code Configuration Switcher)

**Rust ç¼–å†™çš„é«˜æ€§èƒ½å¤šå¹³å°é…ç½®ç®¡ç†å·¥å…·ã€‚**  
ç»Ÿä¸€ç®¡ç† **Claude Code**ã€**Codex**ã€**Gemini**ã€**Qwen** ç­‰å¤šç§ AI CLI å·¥å…·çš„é…ç½®ã€‚

![Version](https://img.shields.io/badge/version-3.17.3-blue.svg) ![License](https://img.shields.io/badge/license-MIT-green.svg) ![Build](https://img.shields.io/badge/build-passing-brightgreen.svg)

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **å¤šå¹³å°æ”¯æŒ**ï¼šç»Ÿä¸€ç®¡ç† Claudeã€Codexã€Geminiã€Qwen å’Œ iFlowã€‚æ¯ä¸ªå¹³å°æ‹¥æœ‰ç‹¬ç«‹çš„é…ç½®æ¡£æ¡ˆã€å†å²è®°å½•å’Œå¤‡ä»½ã€‚
- **ä¼ä¸šçº§å®‰å…¨**ï¼šæ”¯æŒåŸå­å†™å…¥ã€æ–‡ä»¶é” (`fs4`)ã€å®Œæ•´å®¡è®¡æ—¥å¿—ï¼Œä¸”åœ¨æ¯æ¬¡ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½ã€‚
- **å¤šç«¯æ¥å£**ï¼š
  - **CLI**ï¼šåŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œæ¥å£ã€‚
  - **TUI**ï¼šäº¤äº’å¼ç»ˆç«¯é…ç½®é€‰æ‹©å™¨ï¼Œæ”¯æŒTabåˆ‡æ¢ã€‚
  - **Web API**ï¼šå†…ç½® Axum æœåŠ¡ï¼Œä¾¿äºå¤–éƒ¨é›†æˆã€‚
  - **Desktop UI**ï¼šåŸºäº Vue 3 + Tauri æ„å»ºçš„å…¨æ ˆæ¡Œé¢åº”ç”¨ã€‚
- **æ™ºèƒ½åŒæ­¥**ï¼šåŸºäº WebDAV çš„å¤šæ–‡ä»¶å¤¹åŒæ­¥ï¼ˆ`web` ç‰¹æ€§ï¼‰ï¼Œä¿æŒå¤šæœºé…ç½®ä¸€è‡´ã€‚
- **éšç§ä¿æŠ¤**ï¼šè¾“å‡ºæ—¶è‡ªåŠ¨æ©ç  API Key ç­‰æ•æ„Ÿæ•°æ®ã€‚

## ğŸ“¦ å®‰è£…

### ä¸€è¡Œå‘½ä»¤å®‰è£…
```bash
cargo install --git https://github.com/bahayonghang/ccr ccr
```

### ä» dev åˆ†æ”¯å®‰è£…ï¼ˆè·å–æœ€æ–°åŠŸèƒ½ï¼‰
```bash
cargo install --git https://github.com/bahayonghang/ccr --branch dev ccr
```

### æºç å®‰è£…
```bash
git clone https://github.com/bahayonghang/ccr.git
cd ccr
cargo install --path .
```

### æ„å»ºè¦æ±‚
- **Rust**: 1.88+ (2024 ç‰ˆæœ¬)
- **Node.js**: 18+ (ç”¨äº UI å¼€å‘)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–
åœ¨ `~/.ccr/` ä¸‹åˆå§‹åŒ–ç»Ÿä¸€é…ç½®ç»“æ„ï¼š
```bash
ccr init
```

### 2. é€‰æ‹©å¹³å°
åˆ‡æ¢åˆ°ä½ éœ€è¦çš„å¹³å°ï¼ˆé»˜è®¤ä¸º `claude`ï¼‰ï¼š
```bash
# åˆ—å‡ºå¯ç”¨å¹³å°
ccr platform list

# åˆ‡æ¢åˆ° Geminiï¼ˆç¤ºä¾‹ï¼‰
ccr platform switch gemini
```

### 3. ç®¡ç†é…ç½®
```bash
# äº¤äº’å¼å‘å¯¼æ·»åŠ æ–°é…ç½®
ccr add

# åˆ—å‡ºå½“å‰å¹³å°çš„æ‰€æœ‰é…ç½®
ccr list

# æŸ¥çœ‹å½“å‰é…ç½®çŠ¶æ€
ccr status

# åˆ‡æ¢åˆ°æŒ‡å®šé…ç½®
ccr switch my-work-config

# å¿«æ·åˆ‡æ¢ï¼ˆçœç•¥ switchï¼‰
ccr my-work-config
```


### 4. äº¤äº’å¼ TUI
å¯åŠ¨ç»ˆç«¯é…ç½®é€‰æ‹©å™¨ï¼š
```bash
# ç›´æ¥è¿è¡Œ ccr å³å¯
ccr
```

**é”®ç›˜å¿«æ·é”®ï¼š**
| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `Tab` | åˆ‡æ¢ Claude/Codex å¹³å° |
| `â†` / `â†’` | ç¿»é¡µï¼ˆé…ç½®è¶…è¿‡ 20 ä¸ªæ—¶ï¼‰ |
| `â†‘` / `â†“` / `j` / `k` | é€‰æ‹©é…ç½® |
| `Enter` | åº”ç”¨é€‰ä¸­çš„é…ç½®å¹¶é€€å‡º |
| `Space` | åº”ç”¨é€‰ä¸­çš„é…ç½®ï¼ˆä¿æŒ TUIï¼‰ |
| `q` / `Esc` | é€€å‡º |

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åŒ Tab ç•Œé¢ï¼šClaude Code å’Œ Codex CLI
- åˆ†é¡µæ”¯æŒï¼ˆæ¯é¡µ 20 ä¸ªé…ç½®ï¼‰
- åº•éƒ¨å®æ—¶çŠ¶æ€æ¶ˆæ¯
- å¹³å°ä¸“å±é…è‰²ï¼ˆClaude æ©™è‰²ï¼ŒCodex ç´«è‰²ï¼‰

## ğŸ–¥ï¸ CCR UI

æä¾›ç°ä»£åŒ–çš„å›¾å½¢ç•Œé¢æ¥ç®¡ç†æ‚¨çš„é…ç½®ã€‚

```bash
# å¯åŠ¨ UIï¼ˆè‡ªåŠ¨æ£€æµ‹å·¥ä½œåŒºæˆ–ä¸‹è½½å‘å¸ƒç‰ˆï¼‰
ccr ui

# æŒ‡å®šè‡ªå®šä¹‰ç«¯å£
ccr ui -p 3000
```

## ğŸ” Codex å¤šè´¦å·ç®¡ç†

CCR ä¸º Codex CLI æä¾›å¼ºå¤§çš„å¤šè´¦å·ç®¡ç†åŠŸèƒ½ï¼Œè®©æ‚¨å¯ä»¥è½»æ¾åœ¨ä¸åŒçš„ GitHub è´¦å·ä¹‹é—´åˆ‡æ¢ã€‚

### åŸºç¡€å‘½ä»¤

```bash
# ä¿å­˜å½“å‰ç™»å½•ä¸ºå‘½åè´¦å·
ccr codex auth save work

# ä¿å­˜æ—¶æ·»åŠ æè¿°
ccr codex auth save personal -d "ä¸ªäºº GitHub è´¦å·"

# ä¿å­˜æ—¶è®¾ç½®è¿‡æœŸæ—¶é—´
ccr codex auth save temp --expires-at 2026-02-01T00:00:00Z

# å¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨çš„è´¦å·
ccr codex auth save work --force

# åˆ—å‡ºæ‰€æœ‰å·²ä¿å­˜çš„è´¦å·
ccr codex auth list

# åˆ‡æ¢åˆ°æŒ‡å®šè´¦å·
ccr codex auth switch work

# æ˜¾ç¤ºå½“å‰è´¦å·ä¿¡æ¯
ccr codex auth current

# åˆ é™¤è´¦å·
ccr codex auth delete old-account

# åˆ é™¤æ—¶è·³è¿‡ç¡®è®¤
ccr codex auth delete old-account --force
```

### å¯¼å‡ºä¸å¯¼å…¥

```bash
# å¯¼å‡ºæ‰€æœ‰è´¦å·åˆ° Downloads æ–‡ä»¶å¤¹
ccr codex auth export

# å¯¼å‡ºæ—¶ä¸åŒ…å«æ•æ„Ÿæ•°æ®ï¼ˆTokenï¼‰
ccr codex auth export --no-secrets

# ä»æ–‡ä»¶å¯¼å…¥è´¦å·ï¼ˆäº¤äº’å¼ï¼‰
ccr codex auth import

# ä½¿ç”¨æ›¿æ¢æ¨¡å¼å¯¼å…¥ï¼ˆè¦†ç›–åŒåè´¦å·ï¼‰
ccr codex auth import --replace

# ä½¿ç”¨å¼ºåˆ¶æ¨¡å¼å¯¼å…¥ï¼ˆåˆå¹¶æ¨¡å¼ä¸‹è¦†ç›–å·²å­˜åœ¨è´¦å·ï¼‰
ccr codex auth import --force
```

**å¯¼å…¥æ¨¡å¼è¯´æ˜ï¼š**
- **åˆå¹¶æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰**ï¼šè·³è¿‡å·²å­˜åœ¨çš„è´¦å·ï¼Œåªæ·»åŠ æ–°è´¦å·
- **åˆå¹¶ + --force**ï¼šå¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨çš„è´¦å·
- **æ›¿æ¢æ¨¡å¼**ï¼šå§‹ç»ˆè¦†ç›–åŒåè´¦å·

### äº¤äº’å¼ TUI

å¯åŠ¨ Codex è´¦å·ç®¡ç†ç•Œé¢ï¼š
```bash
ccr codex
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å¯è§†åŒ–è´¦å·åˆ—è¡¨ï¼Œå¸¦ Token æ–°é²œåº¦æŒ‡ç¤ºå™¨
- ğŸŸ¢ æ–°é²œ (<1å¤©) | ğŸŸ¡ é™ˆæ—§ (1-7å¤©) | ğŸ”´ è¿‡æœŸ (>7å¤©)
- åˆ‡æ¢å‰è¿›ç¨‹æ£€æµ‹è­¦å‘Š
- é‚®ç®±è„±æ•ä¿æŠ¤éšç§ï¼ˆå¦‚ `use***@example.com`ï¼‰

## ğŸ”„ è‡ªåŠ¨æ›´æ–°

CCR æ”¯æŒä» GitHub è‡ªåŠ¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

```bash
# ä» main åˆ†æ”¯æ›´æ–°ï¼ˆç¨³å®šç‰ˆï¼‰
ccr update

# ä» dev åˆ†æ”¯æ›´æ–°ï¼ˆæœ€æ–°åŠŸèƒ½ï¼‰
ccr update dev

# ä»…æ£€æŸ¥æ›´æ–°ï¼Œä¸å®é™…å®‰è£…
ccr update --check

# æ£€æŸ¥ dev åˆ†æ”¯çš„æ›´æ–°
ccr update dev --check
```

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `ccr update` | ä» `main` åˆ†æ”¯æ›´æ–°åˆ°æœ€æ–°ç¨³å®šç‰ˆ |
| `ccr update dev` | ä» `dev` åˆ†æ”¯æ›´æ–°ï¼Œè·å–æœ€æ–°åŠŸèƒ½ |
| `ccr update --check` | é¢„è§ˆæ›´æ–°å‘½ä»¤ï¼Œä¸å®é™…æ‰§è¡Œ |


## ğŸ› ï¸ å¼€å‘æŒ‡å—

æœ¬é¡¹ç›®ä½¿ç”¨ `just` è¿›è¡Œä»»åŠ¡è‡ªåŠ¨åŒ–ç®¡ç†ã€‚

```bash
# æ„å»ºæ‰€æœ‰ç‰¹æ€§
just build

# è¿è¡Œæµ‹è¯•
just test

# ä»£ç æ£€æŸ¥
just check
just lint
```

## ğŸ“‚ é¡¹ç›®ç»“æ„
```text
ccr/
â”œâ”€â”€ src/            # æ ¸å¿ƒ Rust é€»è¾‘ (CLI, TUI, Web API)
â”œâ”€â”€ ccr-ui/         # å…¨æ ˆ Web/æ¡Œé¢åº”ç”¨ (Vue 3 + Tauri)
â”œâ”€â”€ tests/          # é›†æˆæµ‹è¯•
â””â”€â”€ justfile        # ä»»åŠ¡è¿è¡Œé…ç½®
```

## ğŸ“„ è®¸å¯è¯
MIT License
