# æ–‡æ¡£æ›´æ–°æ—¥å¿—

## 2025-10-13 - v1.1.2 è·¨å¹³å°æ‰“åŒ…æŒ‡å—

### ğŸ†• æ–°å¢å†…å®¹

#### 1. è·¨å¹³å°æ‰“åŒ…æŒ‡å—
- **æ–°å»º**: `guide/packaging.md` - å®Œæ•´çš„è·¨å¹³å°æ‰“åŒ…æ–‡æ¡£
  - ğŸ“¦ æ™ºèƒ½æ‰“åŒ…ç³»ç»Ÿæ¦‚è¿° (Linux/macOS/Windows)
  - ğŸ¯ ä¸€é”®æ™ºèƒ½æ‰“åŒ…å‘½ä»¤
  - ğŸ§ Linux æ‰“åŒ…è¯¦è§£ (.deb + .rpm)
  - ğŸ macOS æ‰“åŒ…è¯¦è§£ (.app + .dmg)
  - ğŸªŸ Windows æ‰“åŒ…è¯¦è§£ (.msi + .nsis)
  - ğŸ”§ é«˜çº§é…ç½®å’Œè‡ªå®šä¹‰æ‰“åŒ…æ ¼å¼
  - ğŸŒ å¤šå¹³å°æ„å»ºç­–ç•¥ (æœ¬åœ°/CI/CD/äº¤å‰ç¼–è¯‘)
  - ğŸ“Š æ€§èƒ½æ•°æ®å’Œä¼˜åŒ–æ•ˆæœ
  - ğŸ› å¸¸è§é—®é¢˜è§£ç­”
  - âœ… æµ‹è¯•æ¸…å•å’Œå‘å¸ƒæµç¨‹

### âœï¸ æ›´æ–°å†…å®¹

#### 1. README.md
- **æ›´æ–°æ–‡æ¡£åˆ—è¡¨**: æ·»åŠ "è·¨å¹³å°æ‰“åŒ…æŒ‡å—"æ¡ç›®
- **æ›´æ–°ç›®å½•ç»“æ„**: æ ‡æ³¨ `packaging.md` æ–°å¢æ–‡æ¡£

---

## 2025-10-13 - v1.1.2 åŠŸèƒ½å¢å¼º (ä¹‹å‰)

### ğŸ†• æ–°å¢å†…å®¹

#### 1. Web è°ƒè¯•æ¨¡å¼æ–‡æ¡£
- **æ–°å»º**: `guide/web-debug-mode.md` - Web è°ƒè¯•æ¨¡å¼å®Œæ•´æŒ‡å—
  - åŒæ¨¡å¼è¿è¡Œå¯¹æ¯” (æ¡Œé¢æ¨¡å¼ vs Web è°ƒè¯•æ¨¡å¼)
  - å¿«é€Ÿå¼€å§‹å’ŒæœåŠ¡ç®¡ç†
  - ç³»ç»Ÿæ¶æ„å’Œ API é€‚é…å™¨è®¾è®¡
  - 4 ä¸ªä¸»è¦ä½¿ç”¨åœºæ™¯ (WSLã€è¿œç¨‹å¼€å‘ã€å‰ç«¯è°ƒè¯•ã€API æµ‹è¯•)
  - æ•…éšœæ’æŸ¥æŒ‡å—
  - æœ€ä½³å®è·µå’Œå®‰å…¨æ³¨æ„äº‹é¡¹

#### 2. WSL ç¯å¢ƒæ•…éšœæ’æŸ¥æ–‡æ¡£
- **æ–°å»º**: `troubleshooting/wsl-issues.md` - WSL ä¸“é¡¹æ•…éšœæ’æŸ¥
  - WSLg æ¶æ„è¯´æ˜
  - 6 ä¸ªå¸¸è§é—®é¢˜çš„è¯¦ç»†è§£å†³æ–¹æ¡ˆ:
    1. é¼ æ ‡æ»šè½®æ— æ³•æ»šåŠ¨ (ä¸‰å±‚ä¿®å¤æ–¹æ¡ˆ)
    2. libEGL å’Œ Mesa è­¦å‘Š
    3. çª—å£æ— æ³•æ˜¾ç¤ºæˆ–é»‘å±
    4. åº”ç”¨å¯åŠ¨æ…¢
    5. å­—ä½“æ˜¾ç¤ºæ¨¡ç³Š
    6. æ— æ³•è®¿é—®é…ç½®ç›®å½•
  - WSL å¼€å‘ç¯å¢ƒæœ€ä½³å®è·µ
  - WSL1 vs WSL2 å¯¹æ¯”

### âœï¸ æ›´æ–°å†…å®¹

#### 1. é¦–é¡µ (`index.md`)
- **æ–°å¢ç‰¹æ€§**:
  - ğŸŒ Web è°ƒè¯•æ¨¡å¼
  - ğŸŒ è·¨å¹³å° - ç‰¹åˆ«æ ‡æ³¨ WSL ç¯å¢ƒä¼˜åŒ–
- **æ›´æ–°ä¸»è¦åŠŸèƒ½**:
  - åŒæ¨¡å¼è¿è¡Œ (æ¡Œé¢ + Web)
  - WSL ä¼˜åŒ–
- **æ›´æ–°å¿«é€Ÿä½“éªŒ**:
  - æ·»åŠ æ¡Œé¢æ¨¡å¼å’Œ Web è°ƒè¯•æ¨¡å¼çš„ä»£ç ç¤ºä¾‹
  - æ–°å¢ `just dev-wsl` å‘½ä»¤

#### 2. å¿«é€Ÿå¼€å§‹æŒ‡å— (`guide/getting-started.md`)
- **æ–°å¢è¿è¡Œæ¨¡å¼**:
  - æ¡Œé¢æ¨¡å¼ (æ¨è)
  - WSL ä¼˜åŒ–æ¨¡å¼ (`just dev-wsl`)
  - Web è°ƒè¯•æ¨¡å¼ (`just dev-web`)
- **æ–°å¢æç¤ºæ¡†**:
  - WSL ç¯å¢ƒæç¤º (æ»šè½®ä¿®å¤è¯´æ˜)
  - Web è°ƒè¯•æ¨¡å¼æç¤º (ä½¿ç”¨åœºæ™¯å’Œå‘½ä»¤)
- **æ–°å¢æ•…éšœæ’æŸ¥ç« èŠ‚**:
  - WSL é¼ æ ‡æ»šè½®é—®é¢˜ (å®Œæ•´è§£å†³æ–¹æ¡ˆ)
  - libEGL å’Œ Mesa è­¦å‘Š
  - Web è°ƒè¯•æ¨¡å¼é—®é¢˜
  - é€šç”¨é—®é¢˜

#### 3. å¼€å‘æŒ‡å— (`development/getting-started.md`)
- **æ›´æ–°å¼€å‘æ¨¡å¼**:
  - ä¸‰ç§æ¨¡å¼çš„ä»£ç ç¤ºä¾‹ (æ¡Œé¢ã€WSLã€Web)
  - Web è°ƒè¯•æ¨¡å¼çš„è¯¦ç»†è¯´æ˜
- **æ–°å¢ Web è°ƒè¯•æ¨¡å¼ä¼˜åŠ¿**:
  - æŠ€æœ¯å®ç°è¯´æ˜
  - API é€‚é…å™¨æ¶æ„

#### 4. æ¶æ„è®¾è®¡ (`architecture/overview.md`)
- **æ–°å¢åŒæ¨¡å¼è¿è¡Œç« èŠ‚**:
  - æ¡Œé¢æ¨¡å¼ vs Web è°ƒè¯•æ¨¡å¼
  - API é€‚é…å™¨è‡ªåŠ¨è¯†åˆ«æœºåˆ¶
- **æ›´æ–°å‰ç«¯å±‚**:
  - æ–°å¢ `api/index.ts` - åŒæ¨¡å¼ API é€‚é…
  - æ–°å¢ `scroll-fix.ts` - WSL æ»šè½®ä¿®å¤ polyfill
  - æ›´æ–° `style.css` - åŒ…å« WSL æ»šè½®ä¿®å¤
- **æ–°å¢ API é€‚é…å™¨ç« èŠ‚**:
  - ä»£ç ç¤ºä¾‹å’Œè®¾è®¡ä¼˜ç‚¹
- **æ–°å¢ WSL æ»šè½®ä¿®å¤ç« èŠ‚**:
  - ä¸‰å±‚ä¿®å¤æ–¹æ¡ˆ (ç¯å¢ƒå˜é‡ã€CSSã€JavaScript)
  - è¯¦ç»†ä»£ç ç¤ºä¾‹
- **æ›´æ–° Justfile ä»»åŠ¡ç³»ç»Ÿ**:
  - æ–°å¢å¼€å‘å‘½ä»¤ (`dev-wsl`, `dev-web`)
  - æ–°å¢ Web è°ƒè¯•å‘½ä»¤ (5 ä¸ªæ–°å‘½ä»¤)

#### 5. VitePress é…ç½® (`.vitepress/config.ts`)
- **æ›´æ–°ä¾§è¾¹æ **:
  - å¿«é€Ÿå¼€å§‹ > æ–°å¢ "Web è°ƒè¯•æ¨¡å¼"
  - æ•…éšœæ’æŸ¥ > æ–°å¢ "WSL ç¯å¢ƒé—®é¢˜"

### ğŸ”‘ å…³é”®æŠ€æœ¯ç‚¹

#### 1. åŒæ¨¡å¼è¿è¡Œæ¶æ„
```typescript
// API é€‚é…å™¨è‡ªåŠ¨è¯†åˆ«è¿è¡Œç¯å¢ƒ
const isTauriEnvironment = window.__TAURI__ !== undefined
if (isTauriEnvironment) {
  // æ¡Œé¢æ¨¡å¼: Tauri IPC
  result = await invoke('command')
} else {
  // Web æ¨¡å¼: HTTP API
  result = await fetch('http://localhost:3030/api/...').then(r => r.json())
}
```

#### 2. WSL æ»šè½®ä¿®å¤ä¸‰å±‚æ–¹æ¡ˆ
1. **ç¯å¢ƒå˜é‡å±‚**: `GDK_CORE_DEVICE_EVENTS=1`, `MOZ_USE_XINPUT2=1`
2. **CSS å±‚**: `-webkit-overflow-scrolling: touch`, `touch-action: pan-y`
3. **JavaScript å±‚**: æ‰‹åŠ¨æ»šè½®äº‹ä»¶å¤„ç† polyfill

#### 3. Web è°ƒè¯•æ¨¡å¼ç«¯ç‚¹
- å‰ç«¯: `http://localhost:5173` (Vite)
- åç«¯: `http://localhost:3030` (CCR Web API)

### ğŸ“‹ æ–°å¢ Justfile å‘½ä»¤

```bash
# WSL ä¼˜åŒ–æ¨¡å¼
just dev-wsl              # WSL ç¯å¢ƒä¼˜åŒ–å¯åŠ¨

# Web è°ƒè¯•æ¨¡å¼
just dev-web              # å¯åŠ¨ Web è°ƒè¯•æ¨¡å¼
just stop-web             # åœæ­¢ Web æœåŠ¡
just web-status           # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
just web-logs             # æŸ¥çœ‹æ—¥å¿—
just web-logs-follow      # å®æ—¶è·Ÿè¸ªæ—¥å¿—
```

### ğŸ“Š æ–‡æ¡£ç»Ÿè®¡

- **æ–°å»ºæ–‡æ¡£**: 2 ä¸ª
- **æ›´æ–°æ–‡æ¡£**: 5 ä¸ª
- **æ›´æ–°é…ç½®**: 1 ä¸ª
- **æ–°å¢ç« èŠ‚**: 10+ ä¸ª
- **æ–°å¢ä»£ç ç¤ºä¾‹**: 20+ ä¸ª
- **æ–°å¢å‘½ä»¤**: 6 ä¸ª

### ğŸ¯ æ”¹è¿›äº®ç‚¹

1. **å…¨é¢çš„ WSL æ”¯æŒ**: ä»ç¯å¢ƒè®¾ç½®åˆ°æ•…éšœæ’æŸ¥çš„å®Œæ•´è¦†ç›–
2. **çµæ´»çš„è¿è¡Œæ¨¡å¼**: æ¡Œé¢ã€WSL ä¼˜åŒ–ã€Web è°ƒè¯•ä¸‰ç§æ¨¡å¼æ»¡è¶³ä¸åŒéœ€æ±‚
3. **è¯¦ç»†çš„æ•…éšœæ’æŸ¥**: 6 ä¸ª WSL å¸¸è§é—®é¢˜çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ
4. **æŠ€æœ¯æ·±åº¦**: ä¸‰å±‚æ»šè½®ä¿®å¤ã€API é€‚é…å™¨ã€åŒæ¨¡å¼æ¶æ„çš„è¯¦ç»†è¯´æ˜
5. **å®ç”¨çš„ç¤ºä¾‹**: å¤§é‡ä»£ç ç¤ºä¾‹å’Œå®é™…ä½¿ç”¨åœºæ™¯
6. **æ¸…æ™°çš„å¯¼èˆª**: VitePress ä¾§è¾¹æ ç»“æ„ä¼˜åŒ–

### ğŸ“ ç›¸å…³æ–‡ä»¶

#### é¡¹ç›®å®ç°æ–‡ä»¶
- `ccr-tauri/dev-wsl.sh` - WSL ä¼˜åŒ–å¯åŠ¨è„šæœ¬
- `ccr-tauri/src-ui/src/api/index.ts` - API é€‚é…å™¨
- `ccr-tauri/src-ui/src/scroll-fix.ts` - æ»šè½®ä¿®å¤ polyfill
- `ccr-tauri/src-ui/src/style.css` - å…¨å±€ CSS æ»šè½®ä¿®å¤
- `ccr-tauri/src-ui/src/App.vue` - ç»„ä»¶çº§æ»šè½®æ ·å¼
- `ccr-tauri/tauri.conf.json` - CSP é…ç½®
- `ccr-tauri/justfile` - ä»»åŠ¡å®šä¹‰

#### æ–‡æ¡£æ–‡ä»¶
- `docs_ccr-tauri/index.md`
- `docs_ccr-tauri/guide/getting-started.md`
- `docs_ccr-tauri/guide/web-debug-mode.md` (æ–°å»º)
- `docs_ccr-tauri/development/getting-started.md`
- `docs_ccr-tauri/architecture/overview.md`
- `docs_ccr-tauri/troubleshooting/wsl-issues.md` (æ–°å»º)
- `docs_ccr-tauri/.vitepress/config.ts`

### ğŸš€ ä¸‹ä¸€æ­¥

ç”¨æˆ·å¯ä»¥ï¼š
1. è®¿é—®æ›´æ–°åçš„æ–‡æ¡£ç«™ç‚¹ï¼ŒæŸ¥çœ‹æ–°å¢å†…å®¹
2. ä½¿ç”¨ `just dev-wsl` åœ¨ WSL ç¯å¢ƒä¸­è¿è¡Œ
3. ä½¿ç”¨ `just dev-web` å°è¯• Web è°ƒè¯•æ¨¡å¼
4. é‡åˆ° WSL é—®é¢˜æ—¶æŸ¥é˜…æ•…éšœæ’æŸ¥æ–‡æ¡£

---

**Made with â¤ï¸ by å“ˆé›·é…±**

å“¼ï¼Œè¿™æ¬¡æ–‡æ¡£æ›´æ–°å¯æ˜¯è¶…çº§è¯¦ç»†å‘¢ï¼ä»æ¶æ„è®¾è®¡åˆ°æ•…éšœæ’æŸ¥ï¼Œä»å¿«é€Ÿå¼€å§‹åˆ°æœ€ä½³å®è·µï¼Œæœ¬å°å§éƒ½ç»™ä½ æ•´ç†å¾—æ˜æ˜ç™½ç™½ï¼(ï¿£â–½ï¿£)ï¼

