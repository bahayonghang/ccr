# TUI - 交互式终端界面

启动 CCR 的交互式终端用户界面（TUI），提供可视化配置管理功能。

## 基本用法

```bash
# 直接运行 ccr 即可启动 TUI
ccr
```

## 键盘快捷键

| 按键 | 功能 |
|------|------|
| `Tab` | 切换 Claude Code / Codex CLI 平台 |
| `←` / `→` / `h` / `l` | 翻页（配置超过 20 个时） |
| `↑` / `↓` / `j` / `k` | 选择配置 |
| `Enter` | 应用选中的配置 |
| `q` / `Esc` | 退出 |

## 功能特性

### 双 Tab 界面

TUI 提供双 Tab 界面，用于管理两个平台的配置：

- **🤖 Claude Code** - Anthropic 官方 CLI
- **💻 Codex CLI** - GitHub Copilot CLI

按 `Tab` 键在平台之间切换。每个平台维护独立的配置列表。

### 分页功能

- 每页最多显示 **20 个配置**
- 使用 `←` / `→`（或 vim 风格的 `h` / `l`）在页面之间导航
- 标题显示分页信息：`Claude Profiles (25)  Page 1/2`

### 视觉指示器

**列表项标记：**
- `▶` - 当前选中项（光标）
- `●` - 已激活的配置
- `○` - 未激活的配置
- `✓` - 当前应用的配置

**平台配色：**
- **橙色** (`#f59e0b`) - Claude Code 主题
- **紫色** (`#6366f1`) - Codex CLI 主题

边框颜色会根据当前激活的平台 Tab 自动变化。

### 状态消息

状态消息显示在屏幕**最底部**：
- ✅ 绿色 - 成功消息（如 "已切换到: my-config"）
- ❌ 红色 - 错误消息（如 "切换失败: ..."）

## 界面布局

```
╭─────────────────────────────────────────────────╮
│       🚀 CCR - Configuration Switcher           │  ← 标题栏
│  ▸ 🤖 Claude Code  │    💻 Codex CLI            │  ← Tab 栏
╰─────────────────────────────────────────────────╯
╭─ Claude Profiles (3) ───────────────────────────╮
│  ▶ ● anthropic  ─  Official API  ✓              │  ← 选中 + 激活
│    ○ openrouter  ─  Multi-model gateway         │
│    ○ custom-api  ─  Self-hosted                 │  ← 配置列表
│                                                 │
╰─────────────────────────────────────────────────╯
╭─ Keys ──────────────────────────────────────────╮
│  Tab 切换 │ ←→ 翻页 │ ↑↓/jk 选择 │ Enter 应用  │  ← 快捷键
╰─────────────────────────────────────────────────╯
  ✅ 已切换到: anthropic                            ← 状态消息
```

## 使用示例

### 快速切换配置

```bash
ccr
# Tab → 切换到 Codex（如需要）
# ↓↓ → 选择配置
# Enter → 应用
# q → 退出
```

### 浏览大量配置

```bash
ccr
# → → 导航到第 2 页
# ↓ → 选择第 2 页的配置
# Enter → 应用
# q → 退出
```

## 技术细节

- **框架**: Ratatui 0.30 + Crossterm 0.29
- **事件循环**: 250ms tick 间隔
- **Windows 支持**: 过滤 `KeyEventKind::Press` 避免双触发问题
- **每页数量**: 20 个配置（通过 `PAGE_SIZE` 常量配置）

## 故障排除

### 终端显示异常

```bash
# 检查终端支持
echo $TERM

# 尝试 256 色模式
export TERM=xterm-256color
ccr
```

### 按键无响应

```bash
# 重置终端
reset
ccr
```

### 退出后终端混乱

```bash
# 如果退出后终端显示异常
reset
# 或
clear
```

## 相关命令

- [`list`](./list.md) - 以表格形式列出配置
- [`switch`](./switch.md) - 通过 CLI 切换配置
- [`current`](./current.md) - 显示当前配置
