# CCR å¤šæ–‡ä»¶å¤¹åŒæ­¥ç®¡ç†æŒ‡å—

> æœ¬æŒ‡å—ä»‹ç» CCR v2.5+ çš„å¤šæ–‡ä»¶å¤¹åŒæ­¥ç®¡ç†åŠŸèƒ½

## ğŸ“– ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ–‡ä»¶å¤¹ç®¡ç†](#æ–‡ä»¶å¤¹ç®¡ç†)
- [åŒæ­¥æ“ä½œ](#åŒæ­¥æ“ä½œ)
- [æ‰¹é‡æ“ä½œ](#æ‰¹é‡æ“ä½œ)
- [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
- [è¿ç§»æŒ‡å—](#è¿ç§»æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¦‚è¿°

CCR v2.5 å¼•å…¥äº†å¤šæ–‡ä»¶å¤¹åŒæ­¥ç®¡ç†åŠŸèƒ½ï¼Œå…è®¸æ‚¨ï¼š

- âœ… **ç®¡ç†å¤šä¸ªåŒæ­¥æ–‡ä»¶å¤¹**ï¼šåˆ†åˆ«ç®¡ç† configã€claudeã€gemini ç­‰å¤šä¸ªæ–‡ä»¶å¤¹
- âœ… **ç‹¬ç«‹åŒæ­¥**ï¼šæ¯ä¸ªæ–‡ä»¶å¤¹å¯ä»¥ç‹¬ç«‹ä¸Šä¼ /ä¸‹è½½
- âœ… **æ‰¹é‡æ“ä½œ**ï¼šä¸€é”®åŒæ­¥æ‰€æœ‰å¯ç”¨çš„æ–‡ä»¶å¤¹
- âœ… **çµæ´»é…ç½®**ï¼šä¸ºæ¯ä¸ªæ–‡ä»¶å¤¹è®¾ç½®ä¸åŒçš„è¿œç¨‹è·¯å¾„å’Œæ’é™¤è§„åˆ™
- âœ… **å‘åå…¼å®¹**ï¼šæ—§çš„ `ccr sync push/pull` å‘½ä»¤ç»§ç»­å¯ç”¨
- âœ… **è‡ªåŠ¨è¿ç§»**ï¼šä»æ—§ç‰ˆé…ç½®è‡ªåŠ¨å‡çº§åˆ°æ–°æ ¼å¼

---

## å¿«é€Ÿå¼€å§‹

### 1. é…ç½® WebDAV åŒæ­¥

é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½® WebDAV æœåŠ¡å™¨ä¿¡æ¯ï¼š

```bash
ccr sync config
```

æŒ‰æç¤ºè¾“å…¥ï¼š
- WebDAV æœåŠ¡å™¨åœ°å€ï¼ˆé»˜è®¤ï¼šåšæœäº‘ï¼‰
- ç”¨æˆ·å/é‚®ç®±
- å¯†ç /åº”ç”¨å¯†ç 
- è¿œç¨‹ç›®å½•è·¯å¾„ï¼ˆé»˜è®¤ï¼š`/ccr/`ï¼‰

ğŸ’¡ **åšæœäº‘ç”¨æˆ·**ï¼šè¯·ä½¿ç”¨åº”ç”¨å¯†ç ï¼Œè€Œéè´¦æˆ·å¯†ç 
   - è´¦æˆ·ä¿¡æ¯ â†’ å®‰å…¨é€‰é¡¹ â†’ æ·»åŠ åº”ç”¨ â†’ ç”Ÿæˆå¯†ç 

### 2. æ·»åŠ åŒæ­¥æ–‡ä»¶å¤¹

æ·»åŠ æ‚¨æƒ³è¦åŒæ­¥çš„æ–‡ä»¶å¤¹ï¼š

```bash
# æ·»åŠ  Claude é…ç½®æ–‡ä»¶å¤¹
ccr sync folder add claude ~/.claude -d "Claude Code é…ç½®"

# æ·»åŠ  Gemini é…ç½®æ–‡ä»¶å¤¹
ccr sync folder add gemini ~/.gemini -d "Gemini CLI é…ç½®"

# æ·»åŠ ä¸»é…ç½®æ–‡ä»¶ï¼ˆä½¿ç”¨è‡ªå®šä¹‰è¿œç¨‹è·¯å¾„ï¼‰
ccr sync folder add conf ~/.ccs_config.toml -r /ccr/config.toml
```

### 3. æŸ¥çœ‹æ–‡ä»¶å¤¹åˆ—è¡¨

```bash
ccr sync folder list
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
â•”â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ åç§°  â•‘ çŠ¶æ€   â•‘ æœ¬åœ°è·¯å¾„      â•‘ è¿œç¨‹è·¯å¾„         â•‘ æè¿°      â•‘
â• â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ claudeâ•‘ âœ“      â•‘ ~/.claude     â•‘ /ccr/claude      â•‘ Claude... â•‘
â•‘ geminiâ•‘ âœ“      â•‘ ~/.gemini     â•‘ /ccr/gemini      â•‘ Gemini... â•‘
â•‘ conf  â•‘ âœ“      â•‘ ~/.ccs_config â•‘ /ccr/config.toml â•‘ ä¸»é…ç½®    â•‘
â•šâ•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•

æ€»è®¡: 3 ä¸ªæ–‡ä»¶å¤¹ (å¯ç”¨: 3, ç¦ç”¨: 0)
```

### 4. åŒæ­¥æ–‡ä»¶å¤¹

#### ä¸Šä¼ å•ä¸ªæ–‡ä»¶å¤¹
```bash
ccr sync claude push
```

#### ä¸‹è½½å•ä¸ªæ–‡ä»¶å¤¹
```bash
ccr sync claude pull
```

#### æŸ¥çœ‹æ–‡ä»¶å¤¹çŠ¶æ€
```bash
ccr sync claude status
```

#### æ‰¹é‡ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶å¤¹
```bash
ccr sync all push
```

---

## æ–‡ä»¶å¤¹ç®¡ç†

### æ·»åŠ æ–‡ä»¶å¤¹

#### åŸºæœ¬è¯­æ³•
```bash
ccr sync folder add <name> <local_path> [options]
```

#### å‚æ•°è¯´æ˜
- `<name>`: æ–‡ä»¶å¤¹åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼‰
- `<local_path>`: æœ¬åœ°è·¯å¾„ï¼ˆæ”¯æŒ `~` æ‰©å±•ï¼‰
- `-r, --remote-path <PATH>`: è¿œç¨‹è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤ï¼š`/ccr-sync/<name>`ï¼‰
- `-d, --description <DESC>`: æè¿°ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰

#### ç¤ºä¾‹

```bash
# æœ€ç®€å•çš„ç”¨æ³•
ccr sync folder add claude ~/.claude

# å¸¦æè¿°
ccr sync folder add gemini ~/.gemini -d "Gemini CLI Configuration"

# è‡ªå®šä¹‰è¿œç¨‹è·¯å¾„
ccr sync folder add codex ~/.codex -r /ccr/tools/codex -d "Codex CLI"

# æ·»åŠ é…ç½®æ–‡ä»¶ï¼ˆä¸æ˜¯ç›®å½•ï¼‰
ccr sync folder add config ~/.ccs_config.toml -r /ccr/config.toml
```

### åˆ é™¤æ–‡ä»¶å¤¹

```bash
ccr sync folder remove <name>
```

âš ï¸ **æ³¨æ„**ï¼šæ­¤æ“ä½œä»…åˆ é™¤åŒæ­¥é…ç½®ï¼Œä¸ä¼šåˆ é™¤æœ¬åœ°æ–‡ä»¶

ç¤ºä¾‹ï¼š
```bash
ccr sync folder remove claude
```

### æŸ¥çœ‹æ–‡ä»¶å¤¹è¯¦æƒ…

```bash
ccr sync folder info <name>
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
åŒæ­¥æ–‡ä»¶å¤¹ä¿¡æ¯: claude

åŸºæœ¬ä¿¡æ¯
  åç§°:     claude
  æè¿°:     Claude Code é…ç½®
  çŠ¶æ€:     âœ“ å¯ç”¨

è·¯å¾„é…ç½®
  æœ¬åœ°è·¯å¾„: ~/.claude
  è¿œç¨‹è·¯å¾„: /ccr/claude
  æœ¬åœ°è·¯å¾„: âœ“ å­˜åœ¨ (ç›®å½•)

å…¶ä»–è®¾ç½®
  è‡ªåŠ¨åŒæ­¥: ç¦ç”¨
```

### å¯ç”¨/ç¦ç”¨æ–‡ä»¶å¤¹

```bash
# å¯ç”¨æ–‡ä»¶å¤¹
ccr sync folder enable <name>

# ç¦ç”¨æ–‡ä»¶å¤¹ï¼ˆä¸å‚ä¸æ‰¹é‡æ“ä½œï¼‰
ccr sync folder disable <name>
```

ç¤ºä¾‹ï¼š
```bash
# æš‚æ—¶ç¦ç”¨ gemini æ–‡ä»¶å¤¹åŒæ­¥
ccr sync folder disable gemini

# ç¨åé‡æ–°å¯ç”¨
ccr sync folder enable gemini
```

---

## åŒæ­¥æ“ä½œ

### å•ä¸ªæ–‡ä»¶å¤¹åŒæ­¥

#### ä¸Šä¼ æ–‡ä»¶å¤¹

```bash
ccr sync <folder> push
```

åŠŸèƒ½ï¼š
- âœ… æ£€æŸ¥æœ¬åœ°è·¯å¾„æ˜¯å¦å­˜åœ¨
- âœ… æ£€æŸ¥è¿œç¨‹æ˜¯å¦å·²å­˜åœ¨
- âœ… æç¤ºç¡®è®¤è¦†ç›–ï¼ˆå¯ç”¨ `--force` è·³è¿‡ï¼‰
- âœ… ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹åˆ°äº‘ç«¯

ç¤ºä¾‹ï¼š
```bash
# ä¸Šä¼  claude æ–‡ä»¶å¤¹
ccr sync claude push

# åœ¨æ‰¹é‡è„šæœ¬ä¸­ä½¿ç”¨ï¼ˆè·³è¿‡ç¡®è®¤ï¼‰
ccr sync claude push --force
```

#### ä¸‹è½½æ–‡ä»¶å¤¹

```bash
ccr sync <folder> pull
```

åŠŸèƒ½ï¼š
- âœ… æ£€æŸ¥è¿œç¨‹æ˜¯å¦å­˜åœ¨
- âœ… æœ¬åœ°å­˜åœ¨æ—¶è‡ªåŠ¨å¤‡ä»½ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
- âœ… ä»äº‘ç«¯ä¸‹è½½å¹¶è¦†ç›–æœ¬åœ°

ç¤ºä¾‹ï¼š
```bash
# ä¸‹è½½ gemini é…ç½®
ccr sync gemini pull

# è¾“å‡ºç¤ºä¾‹ï¼š
# â¬‡ï¸  æ­£åœ¨ä»äº‘ç«¯ä¸‹è½½...
# âœ“ æ–‡ä»¶å¤¹å·²ä»äº‘ç«¯ä¸‹è½½å¹¶åº”ç”¨
#
# ğŸ“Š åŒæ­¥ä¿¡æ¯:
#    â€¢ æœ¬åœ°è·¯å¾„: /Users/user/.gemini
#    â€¢ è¿œç¨‹è·¯å¾„: /ccr/gemini
#    â€¢ æœåŠ¡å™¨: https://dav.jianguoyun.com/dav/
```

#### æŸ¥çœ‹åŒæ­¥çŠ¶æ€

```bash
ccr sync <folder> status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
æ–‡ä»¶å¤¹çŠ¶æ€: claude

åŸºæœ¬ä¿¡æ¯
  åç§°:     claude
  çŠ¶æ€:     âœ“ å¯ç”¨
  æœ¬åœ°è·¯å¾„: ~/.claude
  è¿œç¨‹è·¯å¾„: /ccr/claude

åŒæ­¥çŠ¶æ€
  æœ¬åœ°è·¯å¾„: âœ“ å­˜åœ¨ (ç›®å½•)
  è¿œç¨‹çŠ¶æ€: âœ“ å­˜åœ¨
```

---

## æ‰¹é‡æ“ä½œ

### æ‰¹é‡ä¸Šä¼ 

```bash
ccr sync all push [--force]
```

åŠŸèƒ½ï¼š
- éå†æ‰€æœ‰**å·²å¯ç”¨**çš„æ–‡ä»¶å¤¹
- é€ä¸ªä¸Šä¼ åˆ°äº‘ç«¯
- æ˜¾ç¤ºè¿›åº¦å’ŒæˆåŠŸ/å¤±è´¥ç»Ÿè®¡
- ç»§ç»­å¤„ç†å³ä½¿æŸä¸ªæ–‡ä»¶å¤¹å¤±è´¥

è¾“å‡ºç¤ºä¾‹ï¼š
```
æ‰¹é‡ä¸Šä¼ åŒæ­¥æ–‡ä»¶å¤¹

å‡†å¤‡ä¸Šä¼  3 ä¸ªæ–‡ä»¶å¤¹...

â–¶  [1/3] claude
   âœ“ ä¸Šä¼ æˆåŠŸ

â–¶  [2/3] gemini
   âœ— ä¸Šä¼ å¤±è´¥: æœ¬åœ°è·¯å¾„ä¸å­˜åœ¨: /Users/user/.gemini

â–¶  [3/3] conf
   âœ“ ä¸Šä¼ æˆåŠŸ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æ‰¹é‡ä¸Šä¼ æ±‡æ€»
  æ€»è®¡: 3
  æˆåŠŸ: 2
  å¤±è´¥: 1

å¤±è´¥çš„æ–‡ä»¶å¤¹:
  â€¢ gemini
```

### æ‰¹é‡ä¸‹è½½

```bash
ccr sync all pull [--force]
```

ä¸æ‰¹é‡ä¸Šä¼ ç±»ä¼¼ï¼Œä¸‹è½½æ‰€æœ‰å·²å¯ç”¨çš„æ–‡ä»¶å¤¹ã€‚

### æŸ¥çœ‹æ‰€æœ‰çŠ¶æ€

```bash
ccr sync all status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
â•”â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ åç§°  â•‘ å¯ç”¨   â•‘ æœ¬åœ°å­˜åœ¨  â•‘ åŒæ­¥çŠ¶æ€  â•‘
â• â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ claudeâ•‘ âœ“      â•‘ âœ“         â•‘ æœªçŸ¥      â•‘
â•‘ geminiâ•‘ âœ“      â•‘ âœ—         â•‘ æœªçŸ¥      â•‘
â•‘ conf  â•‘ âœ—      â•‘ âœ“         â•‘ æœªçŸ¥      â•‘
â•šâ•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•

æ€»è®¡: 3 ä¸ªæ–‡ä»¶å¤¹ (å¯ç”¨: 2, ç¦ç”¨: 1)
```

---

## é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶ä½ç½®

CCR æ”¯æŒä¸¤ç§é…ç½®æ¨¡å¼ï¼š

#### Unified æ¨¡å¼ï¼ˆæ¨èï¼‰
```
~/.ccr/
â”œâ”€â”€ config.toml                  # å¹³å°é…ç½®
â”œâ”€â”€ sync_folders.toml            # åŒæ­¥æ–‡ä»¶å¤¹é…ç½®ï¼ˆæ–°å¢ï¼‰
â””â”€â”€ platforms/
    â”œâ”€â”€ claude/
    â”‚   â””â”€â”€ profiles.toml
    â””â”€â”€ ...
```

#### Legacy æ¨¡å¼ï¼ˆå‘åå…¼å®¹ï¼‰
```
~/.ccs_config.toml               # ä¸»é…ç½®
~/.ccr/sync_folders.toml         # åŒæ­¥æ–‡ä»¶å¤¹é…ç½®ï¼ˆæ–°å¢ï¼‰
```

### sync_folders.toml æ ¼å¼

```toml
version = "1.0"

[webdav]
url = "https://dav.jianguoyun.com/dav/"
username = "user@example.com"
password = "app-password"
base_remote_path = "/ccr"

[[folders]]
name = "claude"
description = "Claude Code é…ç½®"
local_path = "~/.claude"
remote_path = "/ccr/claude"
enabled = true
auto_sync = false
exclude_patterns = []

[[folders]]
name = "gemini"
description = "Gemini CLI é…ç½®"
local_path = "~/.gemini"
remote_path = "/ccr/gemini"
enabled = true
auto_sync = false
exclude_patterns = ["*.log", "cache/"]

[[folders]]
name = "conf"
description = "CCR ä¸»é…ç½®æ–‡ä»¶"
local_path = "~/.ccs_config.toml"
remote_path = "/ccr/config.toml"
enabled = true
auto_sync = false
exclude_patterns = []
```

### é…ç½®å­—æ®µè¯´æ˜

#### WebDAV é…ç½®
- `url`: WebDAV æœåŠ¡å™¨åœ°å€
- `username`: ç”¨æˆ·å/é‚®ç®±
- `password`: å¯†ç /åº”ç”¨å¯†ç 
- `base_remote_path`: è¿œç¨‹æ ¹ç›®å½•è·¯å¾„

#### æ–‡ä»¶å¤¹é…ç½®
- `name`: æ–‡ä»¶å¤¹å”¯ä¸€åç§°ï¼ˆå¿…å¡«ï¼‰
- `description`: æè¿°ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
- `local_path`: æœ¬åœ°è·¯å¾„ï¼ˆæ”¯æŒ `~` æ‰©å±•ï¼‰
- `remote_path`: è¿œç¨‹è·¯å¾„ï¼ˆç›¸å¯¹äº WebDAV æ ¹ç›®å½•ï¼‰
- `enabled`: æ˜¯å¦å¯ç”¨ï¼ˆtrue/falseï¼‰
- `auto_sync`: æ˜¯å¦è‡ªåŠ¨åŒæ­¥ï¼ˆæš‚æœªå®ç°ï¼‰
- `exclude_patterns`: æ’é™¤æ¨¡å¼åˆ—è¡¨ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰

---

## è¿ç§»æŒ‡å—

### ä» v2.4 å‡çº§åˆ° v2.5

CCR v2.5 å¼•å…¥äº†å¤šæ–‡ä»¶å¤¹åŒæ­¥åŠŸèƒ½ï¼Œä½†**å®Œå…¨å‘åå…¼å®¹** v2.4 çš„é…ç½®ã€‚

#### è‡ªåŠ¨è¿ç§»

é¦–æ¬¡è¿è¡Œ `ccr sync folder` ç›¸å…³å‘½ä»¤æ—¶ï¼ŒCCR ä¼šè‡ªåŠ¨è¿ç§»æ—§é…ç½®ï¼š

```bash
# è§¦å‘è‡ªåŠ¨è¿ç§»
ccr sync folder list
```

è¿ç§»è¿‡ç¨‹ï¼š
1. æ£€æµ‹åˆ°ä¸å­˜åœ¨ `sync_folders.toml`
2. è¯»å–ç°æœ‰çš„ WebDAV é…ç½®ï¼ˆä» `sync.toml` æˆ– `.ccr/config.toml`ï¼‰
3. è‡ªåŠ¨åˆ›å»ºé»˜è®¤æ–‡ä»¶å¤¹ï¼š
   - `conf`: `~/.ccs_config.toml` â†’ `/ccr/config.toml`
   - `claude`: `~/.claude/` â†’ `/ccr/claude` ï¼ˆå¦‚æœç›®å½•å­˜åœ¨ï¼‰
   - `gemini`: `~/.gemini/` â†’ `/ccr/gemini` ï¼ˆå¦‚æœç›®å½•å­˜åœ¨ï¼‰
   - `codex`: `~/.codex/` â†’ `/ccr/codex` ï¼ˆå¦‚æœç›®å½•å­˜åœ¨ï¼‰
4. ä¿å­˜æ–°é…ç½®åˆ° `sync_folders.toml`

#### æ—§å‘½ä»¤ç»§ç»­å¯ç”¨

ä»¥ä¸‹å‘½ä»¤ä¿æŒä¸å˜ï¼Œç»§ç»­æ­£å¸¸å·¥ä½œï¼š

```bash
ccr sync config     # é…ç½® WebDAV
ccr sync status     # æŸ¥çœ‹åŒæ­¥çŠ¶æ€
ccr sync push       # ä¸Šä¼ é…ç½®ï¼ˆç°åœ¨æ˜¯æ‰¹é‡ä¸Šä¼ ï¼‰
ccr sync pull       # ä¸‹è½½é…ç½®ï¼ˆç°åœ¨æ˜¯æ‰¹é‡ä¸‹è½½ï¼‰
```

#### æ–°åŠŸèƒ½

å‡çº§åæ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„æ–‡ä»¶å¤¹ç®¡ç†åŠŸèƒ½ï¼š

```bash
# æŸ¥çœ‹è‡ªåŠ¨åˆ›å»ºçš„æ–‡ä»¶å¤¹
ccr sync folder list

# æ·»åŠ æ›´å¤šæ–‡ä»¶å¤¹
ccr sync folder add my-scripts ~/scripts

# ç‹¬ç«‹åŒæ­¥ç‰¹å®šæ–‡ä»¶å¤¹
ccr sync claude push
ccr sync gemini pull
```

---

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æŸ¥çœ‹æˆ‘æœ‰å“ªäº›æ–‡ä»¶å¤¹ï¼Ÿ

```bash
ccr sync folder list
```

### Q2: å¦‚ä½•åªåŒæ­¥æŸä¸ªç‰¹å®šæ–‡ä»¶å¤¹ï¼Ÿ

```bash
# ä¸Šä¼ 
ccr sync <folder-name> push

# ä¸‹è½½
ccr sync <folder-name> pull
```

### Q3: æ‰¹é‡æ“ä½œä¼šåŒæ­¥æ‰€æœ‰æ–‡ä»¶å¤¹å—ï¼Ÿ

ä¸ä¼šã€‚æ‰¹é‡æ“ä½œåªåŒæ­¥**å·²å¯ç”¨**çš„æ–‡ä»¶å¤¹ã€‚

ç¦ç”¨æ–‡ä»¶å¤¹ï¼š
```bash
ccr sync folder disable <name>
```

### Q4: å¦‚ä½•å¤‡ä»½é…ç½®ï¼Ÿ

ä¸‹è½½å‰ä¼šè‡ªåŠ¨å¤‡ä»½ï¼š
```bash
ccr sync claude pull
# ä¼šè‡ªåŠ¨åˆ›å»ºå¤‡ä»½ï¼š~/.claude.20250106_153000.bak
```

æ‰‹åŠ¨å¯¼å‡ºé…ç½®ï¼š
```bash
ccr export -o backup.toml
```

### Q5: å¦‚ä½•æ’é™¤æŸäº›æ–‡ä»¶ï¼Ÿ

ç¼–è¾‘ `sync_folders.toml`ï¼Œæ·»åŠ æ’é™¤æ¨¡å¼ï¼š

```toml
[[folders]]
name = "claude"
# ...
exclude_patterns = ["*.log", "cache/", "temp/"]
```

æ”¯æŒé€šé…ç¬¦ï¼š
- `*.log` - æ’é™¤æ‰€æœ‰ .log æ–‡ä»¶
- `cache/` - æ’é™¤æ•´ä¸ª cache ç›®å½•
- `temp/*` - æ’é™¤ temp ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹

### Q6: è¿œç¨‹æ–‡ä»¶å¤¹è·¯å¾„è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ

é»˜è®¤è§„åˆ™ï¼š`/ccr-sync/<folder-name>`

ä¾‹å¦‚ï¼š
- `claude` â†’ `/ccr-sync/claude`
- `gemini` â†’ `/ccr-sync/gemini`

è‡ªå®šä¹‰è¿œç¨‹è·¯å¾„ï¼š
```bash
ccr sync folder add my-folder ~/path \
  --remote-path /custom/remote/path
```

### Q7: å¦‚ä½•æ¢å¤åˆ°æ—§ç‰ˆæœ¬çš„é…ç½®ï¼Ÿ

1. ç¦ç”¨æ‰€æœ‰æ–°æ–‡ä»¶å¤¹ï¼š
   ```bash
   ccr sync folder disable claude
   ccr sync folder disable gemini
   ```

2. ä½¿ç”¨æ—§å‘½ä»¤ï¼š
   ```bash
   ccr sync push
   ccr sync pull
   ```

3. æˆ–è€…åˆ é™¤æ–°é…ç½®æ–‡ä»¶ï¼š
   ```bash
   rm ~/.ccr/sync_folders.toml
   ```

### Q8: åšæœäº‘ç”¨æˆ·å¦‚ä½•è·å–åº”ç”¨å¯†ç ï¼Ÿ

1. ç™»å½•åšæœäº‘ç½‘é¡µç‰ˆ
2. è¿›å…¥ **è´¦æˆ·ä¿¡æ¯** â†’ **å®‰å…¨é€‰é¡¹**
3. ç‚¹å‡» **æ·»åŠ åº”ç”¨**
4. è¾“å…¥åº”ç”¨åç§°ï¼ˆå¦‚ï¼šCCRï¼‰
5. å¤åˆ¶ç”Ÿæˆçš„åº”ç”¨å¯†ç 
6. åœ¨ `ccr sync config` ä¸­ä½¿ç”¨è¯¥å¯†ç 

### Q9: æ”¯æŒå“ªäº› WebDAV æœåŠ¡å™¨ï¼Ÿ

æµ‹è¯•è¿‡çš„æœåŠ¡å™¨ï¼š
- âœ… åšæœäº‘ï¼ˆæ¨èï¼‰
- âœ… Nextcloud
- âœ… ownCloud
- âœ… ç¾¤æ™– NAS

ç†è®ºä¸Šæ”¯æŒæ‰€æœ‰ç¬¦åˆ WebDAV æ ‡å‡†çš„æœåŠ¡å™¨ã€‚

### Q10: å¦‚ä½•æŸ¥çœ‹åŒæ­¥é”™è¯¯æ—¥å¿—ï¼Ÿ

å¯ç”¨è°ƒè¯•æ—¥å¿—ï¼š
```bash
export CCR_LOG_LEVEL=debug
ccr sync claude push
```

æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š
```bash
CCR_LOG_LEVEL=trace ccr sync all push
```

---

## é«˜çº§ç”¨æ³•

### 1. åœ¨è„šæœ¬ä¸­ä½¿ç”¨

```bash
#!/bin/bash
# è‡ªåŠ¨åŒæ­¥è„šæœ¬

# æ‰¹é‡ä¸Šä¼ æ‰€æœ‰é…ç½®
ccr sync all push --force

# æˆ–è€…é€‰æ‹©æ€§åŒæ­¥
ccr sync claude push --force
ccr sync gemini push --force
```

### 2. å®šæ—¶åŒæ­¥

ä½¿ç”¨ cronï¼ˆLinux/macOSï¼‰ï¼š
```bash
# æ¯å¤©å‡Œæ™¨ 2 ç‚¹è‡ªåŠ¨å¤‡ä»½
0 2 * * * /usr/local/bin/ccr sync all push --force
```

ä½¿ç”¨ Task Schedulerï¼ˆWindowsï¼‰ï¼š
```powershell
# åˆ›å»ºå®šæ—¶ä»»åŠ¡
schtasks /create /tn "CCR Sync" /tr "ccr sync all push --force" /sc daily /st 02:00
```

### 3. æ¡ä»¶åŒæ­¥

```bash
# åªåœ¨æ–‡ä»¶å˜æ›´æ—¶åŒæ­¥
if git diff --quiet ~/.claude/; then
  echo "No changes"
else
  echo "Changes detected, syncing..."
  ccr sync claude push --force
fi
```

---

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šæ— æ³•è¿æ¥åˆ° WebDAV æœåŠ¡å™¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. éªŒè¯ WebDAV URL æ˜¯å¦æ­£ç¡®
3. æµ‹è¯•è¿æ¥ï¼š
   ```bash
   ccr sync config  # é‡æ–°é…ç½®ï¼Œä¼šè‡ªåŠ¨æµ‹è¯•è¿æ¥
   ```

### é—®é¢˜ï¼šä¸Šä¼ /ä¸‹è½½å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æœ¬åœ°è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š
   ```bash
   ccr sync <folder> status
   ```

2. æ£€æŸ¥è¿œç¨‹æ˜¯å¦æœ‰æƒé™ï¼š
   ```bash
   # ä½¿ç”¨è°ƒè¯•æ¨¡å¼
   CCR_LOG_LEVEL=debug ccr sync <folder> push
   ```

3. éªŒè¯ WebDAV å‡­è¯ï¼š
   ```bash
   ccr sync config  # é‡æ–°è¾“å…¥å¯†ç 
   ```

### é—®é¢˜ï¼šæ–‡ä»¶å¤¹å·²å­˜åœ¨é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
ä½¿ç”¨ `--force` å¼ºåˆ¶è¦†ç›–ï¼š
```bash
ccr sync <folder> push --force
```

æˆ–è€…æ‰¹é‡æ“ä½œï¼š
```bash
ccr sync all push --force
```

---

## è´¡çŒ®ä¸åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æäº¤ Issueï¼šhttps://github.com/bahayonghang/ccr/issues
- æŸ¥çœ‹æºç ï¼šhttps://github.com/bahayonghang/ccr

---

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](../LICENSE)

---

**æœ€åæ›´æ–°**ï¼š2025-01-06
**é€‚ç”¨ç‰ˆæœ¬**ï¼šCCR v2.5.0+
