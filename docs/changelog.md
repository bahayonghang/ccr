# 更新日志

CCR 的所有重要变更都会记录在本文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.2.0] - 2025-01-10

### ✨ 新增

- **Web 管理界面**: 完整的 Web UI，支持可视化配置管理
  - 现代化深色主题设计
  - 实时配置验证
  - 历史记录查看
  - RESTful API 接口
- **完整审计追踪**: 记录所有操作历史
  - UUID 唯一标识
  - 时间戳和操作者信息
  - 环境变量变更追踪
  - 敏感信息自动掩码
- **自动备份系统**: 切换配置前自动备份
  - 带时间戳的备份文件
  - 备份列表查看
  - 从备份恢复（预留功能）

### 🔧 改进

- **性能优化**: 编译优化配置
  - LTO (链接时优化)
  - 单编译单元
  - 符号剥离
- **错误处理**: 13 种详细错误类型
  - 统一错误码
  - 用户友好的错误消息
  - 致命错误识别
- **彩色输出**: 增强的终端体验
  - 成功/信息/警告/错误不同颜色
  - 进度指示
  - Banner 显示

### 🐛 修复

- 修复文件锁在某些情况下未正确释放的问题
- 修复配置验证时的边界条件处理
- 修复 Web 界面在某些浏览器的兼容性问题

## [0.1.0] - 2024-12-15

### ✨ 初始版本

- **核心功能**: 基本的配置管理
  - 列出配置
  - 切换配置
  - 查看当前状态
  - 配置验证
- **直接写入**: 操作 `~/.claude/settings.json`
- **文件锁机制**: 并发安全保证
- **TOML 配置**: 与 CCS 兼容的配置格式
- **命令行界面**: 基于 Clap 的 CLI
- **跨平台支持**: Linux / macOS / Windows

### 🔧 技术实现

- Rust 2024 Edition
- Serde 序列化
- TOML 解析
- File locking (fs4)
- Atomic file operations (tempfile)

---

## 未来计划

### [0.3.0] - 计划中

- [ ] 配置导入/导出功能
- [ ] 配置模板系统
- [ ] 批量操作支持
- [ ] 更详细的历史记录
- [ ] 配置迁移工具

### [0.4.0] - 规划中

- [ ] 插件系统
- [ ] 自定义命令
- [ ] API 扩展接口
- [ ] 性能监控
- [ ] 更多统计功能

### [1.0.0] - 稳定版

- [ ] 完整的测试覆盖
- [ ] 详细的文档
- [ ] 稳定的 API
- [ ] 长期支持

---

## 版本说明

- **主版本号 (Major)**: 不兼容的 API 变更
- **次版本号 (Minor)**: 向下兼容的功能性新增
- **修订号 (Patch)**: 向下兼容的问题修正

## 贡献

如果你发现了 Bug 或有新的功能建议，欢迎：

- 提交 [Issue](https://github.com/bahayonghang/ccs/issues)
- 创建 [Pull Request](https://github.com/bahayonghang/ccs/pulls)

## 感谢

感谢所有为 CCR 做出贡献的开发者！

---

[0.2.0]: https://github.com/bahayonghang/ccs/compare/v0.1.0...v0.2.0
[0.1.0]: https://github.com/bahayonghang/ccs/releases/tag/v0.1.0

